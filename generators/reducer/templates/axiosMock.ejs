import _ from 'lodash'

export default {
  post: jest.fn((path, postData) => {
    const { data  } = postData
    const { name } = data

    const resourceName = _.camelCase(path.split('/').slice(-1)[0])

    return name === 'Sandra'
      ? Promise.resolve({ data: { [resourceName]: { ...data } } })
      : Promise.reject({ ...data })
  })
}
